(() => { (new EventSource("/esbuild")).addEventListener('change', () => location.reload()); })();
import{snake_default}from"./chunk-TVRJSB3P.mjs";import{canvas_default}from"./chunk-2WNCNO4G.mjs";import"./chunk-ZW7GF2WM.mjs";import{dimensions_default}from"./chunk-WE7ZGQYM.mjs";import{point_default}from"./chunk-6GXGR2B5.mjs";var canvas=document.getElementById("game-screen");var ctx=canvas.getContext("2d");var frame=0;var Game=class{constructor(snakeSize){this.animate=()=>{const gameScreen=canvas_default.getInstance();const snake=this.__snake;snake.move(10,this.__path,this.__direction);gameScreen.animate(ctx);snake.animate(ctx);setTimeout(()=>{window.requestAnimationFrame(this.animate);frame+=40},40);if(frame%4e3==0){snake.addBody()}};this.__path="horizontal";this.__direction=1;this.__snake=new snake_default;this.__snakeSize=snakeSize;this.initialize()}initialize(){const gameScreen=canvas_default.getInstance();const snakeSize=this.__snakeSize;canvas_default.setElement(canvas);this.__snake.setSize(snakeSize.width,snakeSize.height);const gameScreenSize=gameScreen.getSize();const positionX=Math.floor(gameScreenSize.width/2);const positionY=Math.floor(gameScreenSize.height/2);const position=new point_default(positionX,positionY);this.__snake.setPosition(position,"horizontal");this.__snake.setColor("green");this.animate()}setPath(path){this.__path=path}setDirection(direction){this.__direction=direction}};var ARROW_DOWN="ArrowDown";var ARROW_UP="ArrowUp";var ARROW_LEFT="ArrowLeft";var ARROW_RIGHT="ArrowRight";window.addEventListener("DOMContentLoaded",()=>{const itemsSize=new dimensions_default(10,10);const game=new Game(itemsSize);window.addEventListener("keydown",e=>{const key=e.key;switch(key){case ARROW_DOWN:game.setPath("vertical");game.setDirection(1);break;case ARROW_UP:game.setPath("vertical");game.setDirection(-1);break;case ARROW_LEFT:game.setPath("horizontal");game.setDirection(-1);break;case ARROW_RIGHT:game.setPath("horizontal");game.setDirection(1);break}})});
